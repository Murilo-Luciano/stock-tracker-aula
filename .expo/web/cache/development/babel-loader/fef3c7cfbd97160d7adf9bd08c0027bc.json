{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nexport var NullAction = {\n  type: \"NULLACTION\"\n};\nexport var Duck = function () {\n  function Duck() {\n    var _this = this;\n\n    _classCallCheck(this, Duck);\n\n    this.REDUCER = function (state, action) {\n      return _this.reducer(state, action);\n    };\n  }\n\n  _createClass(Duck, [{\n    key: \"creators\",\n    value: function creators() {\n      var _this2 = this;\n\n      var methods = {};\n      var obj = Reflect.getPrototypeOf(this);\n\n      while (obj.constructor !== Duck) {\n        var keys = Reflect.ownKeys(obj);\n        keys.forEach(function (k) {\n          return methods[k] = Reflect.get(_this2, k).bind(_this2);\n        });\n        obj = Reflect.getPrototypeOf(obj);\n      }\n\n      return methods;\n    }\n  }, {\n    key: \"reducer\",\n    value: function reducer(state, action) {\n      return state || this.initialState();\n    }\n  }, {\n    key: \"type\",\n    value: function type(name) {\n      return this.namespace() + \"/\" + this.store() + \"/\" + name;\n    }\n  }]);\n\n  return Duck;\n}();","map":{"version":3,"sources":["/home/igor/Documentos/Programa de Formação Investtools/ReactNative/stock-tracker-aula/src/ducks/Duck.ts"],"names":["NullAction","type","Duck","REDUCER","state","action","reducer","methods","obj","Reflect","getPrototypeOf","constructor","keys","ownKeys","forEach","k","get","bind","initialState","name","namespace","store"],"mappings":";;AAqBA,OAAO,IAAMA,UAA0B,GAAG;AAAEC,EAAAA,IAAI,EAAE;AAAR,CAAnC;AAEP,WAAsBC,IAAtB;AAEE,kBAAc;AAAA;;AAAA;;AACZ,SAAKC,OAAL,GAAgB,UAACC,KAAD,EAAWC,MAAX;AAAA,aACd,KAAI,CAACC,OAAL,CAAaF,KAAb,EAAoBC,MAApB,CADc;AAAA,KAAhB;AAED;;AALH;AAAA;AAAA,WAOE,oBAAkB;AAAA;;AAChB,UAAME,OAAO,GAAG,EAAhB;AACA,UAAIC,GAAG,GAAGC,OAAO,CAACC,cAAR,CAAuB,IAAvB,CAAV;;AACA,aAAOF,GAAG,CAACG,WAAJ,KAAoBT,IAA3B,EAAiC;AAC/B,YAAMU,IAAI,GAAGH,OAAO,CAACI,OAAR,CAAgBL,GAAhB,CAAb;AACAI,QAAAA,IAAI,CAACE,OAAL,CACE,UAACC,CAAD;AAAA,iBAAQR,OAAO,CAACQ,CAAD,CAAP,GAAuBN,OAAO,CAACO,GAAR,CAAY,MAAZ,EAAkBD,CAAlB,EAAqBE,IAArB,CAA0B,MAA1B,CAA/B;AAAA,SADF;AAGAT,QAAAA,GAAG,GAAGC,OAAO,CAACC,cAAR,CAAuBF,GAAvB,CAAN;AACD;;AACD,aAAOD,OAAP;AACD;AAlBH;AAAA;AAAA,WAoBE,iBAAeH,KAAf,EAAyBC,MAAzB,EAAoC;AAClC,aAAOD,KAAK,IAAI,KAAKc,YAAL,EAAhB;AACD;AAtBH;AAAA;AAAA,WA2BE,cAAeC,IAAf,EAA6B;AAC3B,aAAU,KAAKC,SAAL,EAAV,SAA8B,KAAKC,KAAL,EAA9B,SAA8CF,IAA9C;AACD;AA7BH;;AAAA;AAAA","sourcesContent":["import { Action, Dispatch, Reducer } from \"redux\";\nimport { Omit } from \"utility-types\";\n\ntype JustActionCreators<T> = {\n  [P in keyof T]: T[P] extends (\n    ...args: any\n  ) => Action<string> | ((d: Dispatch) => Action<string>)\n    ? P\n    : never;\n}[keyof T];\n\nexport type DuckActions<T> = Pick<T, JustActionCreators<Omit<T, \"creators\">>>;\nexport interface PayloadAction<T> extends Action<string> {\n  payload: T;\n}\n\nexport type ContainerProps<\n  S extends (...args: any[]) => any,\n  D extends (...args: any[]) => any = () => {}\n> = ReturnType<S> & ReturnType<D>;\n\nexport const NullAction: Action<string> = { type: \"NULLACTION\" };\n\nexport abstract class Duck<S, A extends Action<string>> {\n  public REDUCER: Reducer<S, A>;\n  constructor() {\n    this.REDUCER = ((state: S, action: A) =>\n      this.reducer(state, action)) as Reducer<S, A>;\n  }\n\n  public creators() {\n    const methods = {} as { [k: string]: any };\n    let obj = Reflect.getPrototypeOf(this);\n    while (obj.constructor !== Duck) {\n      const keys = Reflect.ownKeys(obj);\n      keys.forEach(\n        (k) => (methods[k as string] = Reflect.get(this, k).bind(this))\n      );\n      obj = Reflect.getPrototypeOf(obj);\n    }\n    return methods as DuckActions<this>;\n  }\n\n  public reducer(state: S, action: A) {\n    return state || this.initialState();\n  }\n  \n  protected abstract initialState(): S;\n  protected abstract namespace(): string;\n  protected abstract store(): string;\n  protected type(name: string) {\n    return `${this.namespace()}/${this.store()}/${name}`;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}